============================= test session starts ==============================
platform linux -- Python 3.12.11, pytest-8.4.1, pluggy-1.6.0 -- /home/jules/.pyenv/versions/3.12.11/bin/python
cachedir: .pytest_cache
rootdir: /app
configfile: pyproject.toml
plugins: asyncio-1.1.0, timeout-2.4.0
asyncio: mode=Mode.AUTO, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
timeout: 10.0s
timeout method: thread
timeout func_only: False
collecting ... common_types.py (debug version) is being imported and defining ServiceStatus...
common_types.py (debug version) finished definitions.
ResourceAwarenessService module loaded.
collected 21 items

tests/core_ai/memory/test_ham_memory_manager.py::test_01_initialization_and_empty_store CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: 8ery0EUCgUoqHVdyPgTTTc4oDcGwO_eeJndPv_VUDSc=
Core memory loaded from /app/data/processed_data/test_ham_core_memory.json. Next ID: 6
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: YZk3AUBRiEBS6Tr1hLKtcOLl9Cgo5WN25zdE38KjIHQ=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: DTU9ArCXGwWQKMYLFDs2CWUCs78QXG6pmeuTpMiVcMU=
Core memory loaded from /app/data/processed_data/test_ham_res_aware_memory.json. Next ID: 1
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_res_aware_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: URoCUZLf88AueQ7oM08hUZwi40Cr2p0eJ1BCL8e0wYk=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_res_aware_memory.json. Encryption enabled: True

Running test_01_initialization_and_empty_store...
test_01_initialization_and_empty_store PASSED
PASSED
tests/core_ai/memory/test_ham_memory_manager.py::test_02_store_and_recall_text_experience CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: AUbVQrP-jRG2MpzqNkOW2ZzQdJ212zpANaO7cAUXef4=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: miPA9va2avzhP_Nbm7uTJtVaddh20yV-lrlOnuq2rOI=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: rE6a81iscdI04YDqTGnRbgHn3nhCDa3P5JAHaeG-dBA=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_res_aware_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: S_zdGic63vVZ7dLXr0cmF7D2fzKD-r2matBqkmTV0ak=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_res_aware_memory.json. Encryption enabled: True

Running test_02_store_and_recall_text_experience...
HAM: Storing experience of type 'dialogue_text'
HAM: Placeholder: Detected English-like text, conceptual POS tags would be generated.
HAM: Stored experience mem_000001
HAM: Recalling gist for memory_id 'mem_000001'
test_02_store_and_recall_text_experience PASSED
PASSED
tests/core_ai/memory/test_ham_memory_manager.py::test_03_store_and_recall_generic_data CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: fSTa0d3dHwIGlSVA6MPWIvmXLsTOwbAErm12jMaCIUo=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: MeU5S1TnyLprXPsqhoxZg5QetQpaHkfGzNGPKBnL9-0=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: DDltDjx1RggIf0r3rY78sMkFTSXddpSH4RzhWBuQG3M=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_res_aware_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: Qp_HHPUhKLpp7YHaY_DyHyekIhX_9Ua8GAjnOT1uzQs=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_res_aware_memory.json. Encryption enabled: True

Running test_03_store_and_recall_generic_data...
HAM: Storing experience of type 'sensor_reading'
HAM: Stored experience mem_000001
HAM: Recalling gist for memory_id 'mem_000001'
test_03_store_and_recall_generic_data PASSED
PASSED
tests/core_ai/memory/test_ham_memory_manager.py::test_04_persistence CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: ueogoy9rXs3obZt2Izc5uFPDMGmRVGvoEYnLFCaiPis=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: eehuOpTXaxVd8LPb4iadbvPTPuqmoZDHya4XGCMoxK8=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: Uk8roL8GTItMrrY5mMPo-cFHKdKBZpcw_kBnKx2AuZU=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_res_aware_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: XyNqHTnUEpQ4DIbJ2kAEhkuT1f7RNpSOjMDBNoYbdE0=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_res_aware_memory.json. Encryption enabled: True

Running test_04_persistence...
Core memory loaded from /app/data/processed_data/test_ham_core_memory.json. Next ID: 1
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
HAM: Storing experience of type 'log_entry'
HAM: Stored experience mem_000001
Core memory loaded from /app/data/processed_data/test_ham_core_memory.json. Next ID: 2
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
HAM: Recalling gist for memory_id 'mem_000001'
test_04_persistence PASSED
PASSED
tests/core_ai/memory/test_ham_memory_manager.py::test_05_recall_non_existent_memory CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: Q8QYpzwOBK_eizK8AarEtTPNT8gaqTeymHrPe-DLtqc=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: utdni6WbGwMUUmwhpk2DWvEawFjdoct1SEUWrKsD_Qg=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: q6udbZtnivvjjwMuPP6cIes5EvK2eHWP325-lyr6Ua0=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_res_aware_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: otLEudQfBnlNrNyXXRJq1q69n1Mmd07hXOdFKz9saOw=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_res_aware_memory.json. Encryption enabled: True

Running test_05_recall_non_existent_memory...
HAM: Recalling gist for memory_id 'mem_nonexistent'
Error: Memory ID mem_nonexistent not found.
test_05_recall_non_existent_memory PASSED
PASSED
tests/core_ai/memory/test_ham_memory_manager.py::test_06_query_memory_keywords CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: 9MKzzGZ3sgJlxoq9IVxQWH0PaWuNU4N3nn-FTcIafaI=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: r6n5d5FTn6cUffrWrcvgCWutDr2EXG_XR5nGJso11Gw=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: TlTsEhesTCHvdaucgA3uAzDvcHTOOFSRLkMVzgnPjaI=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_res_aware_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: TQHksql-ZO1Eyd7xb8yAW_kdN8TuwLxK13JFoBf2VmI=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_res_aware_memory.json. Encryption enabled: True

Running test_06_query_memory_keywords...
HAM: Storing experience of type 'dialogue_text'
HAM: Placeholder: Detected English-like text, conceptual POS tags would be generated.
HAM: Stored experience mem_000001
HAM: Storing experience of type 'dialogue_text'
HAM: Placeholder: Detected English-like text, conceptual POS tags would be generated.
HAM: Stored experience mem_000002
HAM: Storing experience of type 'log_entry'
HAM: Stored experience mem_000003
HAM: Querying core memory (type: None, meta_filters: None, keywords: ['weather', 'alice'])
HAM: Recalling gist for memory_id 'mem_000001'
HAM: Query returned 1 results (limit was 5).
HAM: Querying core memory (type: None, meta_filters: None, keywords: ['weather'])
HAM: Recalling gist for memory_id 'mem_000003'
HAM: Recalling gist for memory_id 'mem_000001'
HAM: Query returned 2 results (limit was 5).
test_06_query_memory_keywords PASSED
PASSED
tests/core_ai/memory/test_ham_memory_manager.py::test_07_query_memory_data_type CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: U_mRfEXNqHSac-qHIJnjiVAa0kJ1XmPF2zTCaZf60Rs=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: _MGFwOkZlyTYc22wsIn0JryK5T7KjubRNnGl4g4sFfI=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: 2c5mbQ7hdwdL3ElQrVrBngdUc2h219qiTNL8fGPA5H4=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_res_aware_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: TeosCT4iOcLFaQ0-uSXAnx1UPQ2uwLdpNQJpqAIkxTQ=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_res_aware_memory.json. Encryption enabled: True

Running test_07_query_memory_data_type...
HAM: Storing experience of type 'dialogue_text'
HAM: Placeholder: Detected English-like text, conceptual POS tags would be generated.
HAM: Stored experience mem_000001
HAM: Storing experience of type 'log_entry'
HAM: Stored experience mem_000002
HAM: Storing experience of type 'dialogue_text'
HAM: Placeholder: Detected English-like text, conceptual POS tags would be generated.
HAM: Stored experience mem_000003
HAM: Querying core memory (type: dialogue_text, meta_filters: None, keywords: None)
HAM: Recalling gist for memory_id 'mem_000003'
HAM: Recalling gist for memory_id 'mem_000001'
HAM: Query returned 2 results (limit was 10).
test_07_query_memory_data_type PASSED
PASSED
tests/core_ai/memory/test_ham_memory_manager.py::test_08_query_memory_date_range CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: jJVXEGZ_0ciMwhpKiqfMud195AQAPiFaHKr0s_D5Lsg=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: KcgMVIWXhB-0yLy5dhairYi51uLPIvrnWfrncQdFbsE=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: mkHacx21-1oBtnRoC5Hl7mfbxtB8qIG5JrASkGdrpYM=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_res_aware_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: FxAwUtVj8v7ycYCVwXS2gVwnhC4eq4ABeVtAlLEp2LE=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_res_aware_memory.json. Encryption enabled: True

Running test_08_query_memory_date_range...
HAM: Storing experience of type 'event'
HAM: Stored experience mem_000001
HAM: Querying core memory (type: None, meta_filters: None, keywords: None)
HAM: Recalling gist for memory_id 'mem_000001'
HAM: Query returned 1 results (limit was 5).
HAM: Querying core memory (type: None, meta_filters: None, keywords: None)
HAM: Query returned 0 results (limit was 5).
test_08_query_memory_date_range PASSED (basic check)
PASSED
tests/core_ai/memory/test_ham_memory_manager.py::test_09_empty_text_abstraction CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: S0TFFpViCseyoBc44YAmeRc8C-Ebf-PYvtDJBpwo0h0=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: 02_OZPfEjzu71FhpzmnwfEHUGhT1_kZASfXxdToyULY=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: Q7vp352TgtmLd2Sg9Q5kGhgDsreBxI781hfeAuwEFUk=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_res_aware_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: C-3HFyiE6pK4zDzR8LOcbpvCstuHXiklpcyzq1h-9tE=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_res_aware_memory.json. Encryption enabled: True

Running test_09_empty_text_abstraction...
HAM: Storing experience of type 'dialogue_text'
HAM: Placeholder: Detected English-like text, conceptual POS tags would be generated.
HAM: Stored experience mem_000001
HAM: Recalling gist for memory_id 'mem_000001'
test_09_empty_text_abstraction PASSED
PASSED
tests/core_ai/memory/test_ham_memory_manager.py::test_10_encryption_decryption CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: Hpl1Dd8ekOBnSlZAA0LC7hbYpvv4CuocuFd7qgrNmMc=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: P46wvg0qQgKk0884RXvwn-PlQCqT2VoqJWlLp-wujs0=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: lxAY2oGK9cExZAesRtu3WOwusEP90vyqxW2zVv1b0iE=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_res_aware_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: UIo4pJAIyCNfzoqitG9PFapMiYszzKJpoaAKw0bmuok=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_res_aware_memory.json. Encryption enabled: True

Running test_10_encryption_decryption...
test_10_encryption_decryption PASSED
PASSED
tests/core_ai/memory/test_ham_memory_manager.py::test_11_checksum_verification CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: I3kVSrB7Qq2caFy7REr7yQlppn3zh9YrgUPA3GyRBd0=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: eN4kLL73js8aL5BsfId_ygNjgU8si_sE4BPmr0uVhVU=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: eYG98Ig5FM5BAqbKnsb9LFN60KltzK20D7hWo-fcJSQ=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_res_aware_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: Z-Q6Da3hf2VjXuwuE12nY81YtVGk1CW6k4nEMM9KbCg=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_res_aware_memory.json. Encryption enabled: True

Running test_11_checksum_verification...
HAM: Storing experience of type 'dialogue_text'
HAM: Placeholder: Detected English-like text, conceptual POS tags would be generated.
HAM: Stored experience mem_000001
test_11_checksum_verification PASSED (mismatch test depends on encryption state)
PASSED
tests/core_ai/memory/test_ham_memory_manager.py::test_12_advanced_text_abstraction_placeholders CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: MQNKUC_XvYwHy1Y97Jv8zzv2sZbNtTekSgXF7Rai5VI=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: -lrMLgRVgLHYm3Dp3UtOAvDEApuun0jLW5Eq4HDT-j0=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: faU0M85ZdH07kmhisEV1b8jYe_INnaL8d043PSVRpTo=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_res_aware_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: wpaYMCCpGDEbsznhfn32H7V8UEsWJpR5hsuZor-X19U=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_res_aware_memory.json. Encryption enabled: True

Running test_12_advanced_text_abstraction_placeholders...
HAM: Storing experience of type 'user_dialogue_text'
HAM: Placeholder: Detected English-like text, conceptual POS tags would be generated.
HAM: Stored experience mem_000001
HAM: Recalling gist for memory_id 'mem_000001'
Core memory file not found. Initializing an empty store and saving.
HAM: Storing experience of type 'user_dialogue_text'
HAM: Placeholder: Detected Chinese-like text, conceptual radicals would be extracted.
HAM: Stored experience mem_000001
HAM: Recalling gist for memory_id 'mem_000001'
test_12_advanced_text_abstraction_placeholders PASSED
PASSED
tests/core_ai/memory/test_ham_memory_manager.py::test_13_store_experience_simulated_disk_full CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: qmwvT3i04-yck5yrmYlxp4at0m73SHXpLddSmh3Mijs=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: B6BTFLsyIDTnrJht3OXKzqzk0NOl214tskUtCKqXgEI=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: qJEBaNaUiEJkG84BMii6yQq9jZrgQW65Gk_A_aUp9y4=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_res_aware_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: ruQeB-ZeCzt4P8mxrpMz-PyzF9mTjIwb27AWYNexIwc=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_res_aware_memory.json. Encryption enabled: True

Running test_13_store_experience_simulated_disk_full...
HAM: Storing experience of type 'test_data_disk_full'
HAM: CRITICAL - Simulated disk full! Usage: 1.00GB, Limit: 1.00GB. Save operation aborted.
HAM: Failed to save core memory to file for experience mem_000001. Reverting in-memory store for this item.
test_13_store_experience_simulated_disk_full PASSED
PASSED
tests/core_ai/memory/test_ham_memory_manager.py::test_14_store_experience_simulated_lag_warning CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: OX9fgXKpFdjJ-JEOVTkHQXrbzapYqXSOWbzVoq5YmIs=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: Y6aJNTvdHdte0GkCFaazHeIUyk5c2smSGj5NU2NTFKw=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: Fgu4k_mRqyJA6N5bfK9Gg2bM9U22Qb6M9vic1H_xFXQ=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_res_aware_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: cFSHPq_pIA28TWijQ6o2nDvuPt7NJG-rqdjiYuhBArQ=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_res_aware_memory.json. Encryption enabled: True

Running test_14_store_experience_simulated_lag_warning...
test_14_store_experience_simulated_lag_warning PASSED
PASSED
tests/core_ai/memory/test_ham_memory_manager.py::test_15_store_experience_simulated_lag_critical CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: c2H3wtQ7xblmcFUjSBFJ4LxB8ROvuCsJ_0mXX4EP0LA=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: JFjhFg98HhO-RhKJfIMI4aN7RKvzbN6GIjrxEjornT4=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: PDcVxosjzbScXBtHEUo5MAg2PGuHENCh1pmd4HIWPMI=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_res_aware_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: 5e6cSY8GraxQBW1io3Ouriq2V2xiKqnmZass7JBxOJo=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_res_aware_memory.json. Encryption enabled: True

Running test_15_store_experience_simulated_lag_critical...
test_15_store_experience_simulated_lag_critical PASSED
PASSED
tests/core_ai/memory/test_ham_memory_manager.py::test_16_get_current_disk_usage_gb CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: 0-i1XuIijaw0zpYuarYp_8uMhKGwy25Db8rKbvxxhl8=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: 6BD0XJdMyJhCkCKoiwBGja_aLYAd7V_DbPbDSZZLuGU=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: xpRosITGIvy1Bcwsh2hpinaSEcceVfocrLzZbRkog34=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_res_aware_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: Qwxbj1IVuutfPdwa6A_XcrWhscpe68nQqNMnZbt1aS4=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_res_aware_memory.json. Encryption enabled: True

Running test_16_get_current_disk_usage_gb...
HAM: Storing experience of type 'test_file_size'
HAM: Stored experience mem_000001
test_16_get_current_disk_usage_gb PASSED
PASSED
tests/core_ai/memory/test_ham_memory_manager.py::test_17_query_core_memory_return_multiple_candidates CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: sFHvHND3TtHGxoMRW9Q5SeEft2sP4BopeqXGeK8rCSc=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: cQij1LkBvetD9v0kCgwezWH3UuNUXzOcX_HJ6RmM79o=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: RpGnfB9IOPCy9u3qk8cDxdQJfiKpn9nlYz_igd-i3Rw=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_res_aware_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: S5o8Y41AS1LHBQY4VXAFoLrgRnmK5KBvq139FpRky5c=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_res_aware_memory.json. Encryption enabled: True

Running test_17_query_core_memory_return_multiple_candidates...
HAM: Storing experience of type 'candidate_test'
HAM: Stored experience mem_000001
HAM: Storing experience of type 'candidate_test'
HAM: Stored experience mem_000002
HAM: Storing experience of type 'candidate_test'
HAM: Stored experience mem_000003
HAM: Storing experience of type 'candidate_test'
HAM: Stored experience mem_000004
HAM: Storing experience of type 'candidate_test'
HAM: Stored experience mem_000005
HAM: Storing experience of type 'candidate_test'
HAM: Stored experience mem_000006
HAM: Storing experience of type 'candidate_test'
HAM: Stored experience mem_000007
HAM: Storing experience of type 'candidate_test'
HAM: Stored experience mem_000008
HAM: Storing experience of type 'candidate_test'
HAM: Stored experience mem_000009
HAM: Storing experience of type 'candidate_test'
HAM: Stored experience mem_000010
HAM: Querying core memory (type: candidate_test, meta_filters: None, keywords: None)
HAM: Recalling gist for memory_id 'mem_000010'
HAM: Recalling gist for memory_id 'mem_000009'
HAM: Recalling gist for memory_id 'mem_000008'
HAM: Recalling gist for memory_id 'mem_000007'
HAM: Recalling gist for memory_id 'mem_000006'
HAM: Recalling gist for memory_id 'mem_000005'
HAM: Recalling gist for memory_id 'mem_000004'
HAM: Recalling gist for memory_id 'mem_000003'
HAM: Recalling gist for memory_id 'mem_000002'
HAM: Recalling gist for memory_id 'mem_000001'
test_17_query_core_memory_return_multiple_candidates PASSED
PASSED
tests/core_ai/memory/test_ham_memory_manager.py::test_18_encryption_failure CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: qWegouh8HueSlHvskCcJ99Igt4s69ItzQ24inXesUXE=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: y8Tro6WInMw0jRrJm420i_BHwcVLdPxZ6IDLawNYa8M=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: neODi48gq3XcPSPXeP3K8NiNUWvQ7TE9f_EnCKgZgEk=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_res_aware_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: huAzaG2CPzUxombwn2-YFZgHU-YJuOAgGK0dzWrvXgI=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_res_aware_memory.json. Encryption enabled: True

Running test_18_encryption_failure...
HAM: Storing experience of type 'test_type'
Error during SL processing (compress/encrypt/checksum): Encryption failed
test_18_encryption_failure PASSED
PASSED
tests/core_ai/memory/test_ham_memory_manager.py::test_19_disk_full_handling CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: _-HrB2gCbqeh7uOBizcoJ-UnuGUMXAf1SoQ7mulG2OA=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: RP6H72KR5sZZxrl8h6dNFSd9yoN-htdVP2OK0Iu4rhA=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: t8KOVZM592KJ5URpJ78aPj959RYkzMl2HWQTaWLI9PM=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_res_aware_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: VR22RCJOSbGg-NrGhtygVQ9YHeAXN-KiabEfegf2VSc=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_res_aware_memory.json. Encryption enabled: True

Running test_19_disk_full_handling...
HAM: Storing experience of type 'test_type'
HAM: Stored experience mem_000001
FAILED
tests/core_ai/memory/test_ham_memory_manager.py::test_20_delete_old_experiences CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: dfMn065lpJp3TlaWoIoYOxHC1kBW9k9RbiJunoMwOWY=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: wYHyZO1TvQ26CMOOpq5KhU6cA3ErGxSl6bro-MUjP8Y=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: ns66zGNP4GIyiOTl6vzazxlJoxG5aqR7316aAXSECt0=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_res_aware_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: k5hMSBl7cnoa-_QnnA5ScX8xrSkeulbEQ-KKr9H8uyg=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_res_aware_memory.json. Encryption enabled: True

Running test_20_delete_old_experiences...
HAM: Storing experience of type 'test_type'
HAM: Stored experience mem_000001
HAM: Storing experience of type 'test_type'
HAM: Stored experience mem_000002
HAM: Storing experience of type 'test_type'
HAM: Stored experience mem_000003
HAM: Storing experience of type 'test_type'
HAM: Stored experience mem_000004
HAM: Storing experience of type 'test_type'
HAM: Stored experience mem_000005
test_20_delete_old_experiences PASSED
PASSED
tests/core_ai/memory/test_ham_memory_manager.py::test_21_concurrent_access CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: lfUBCPZuGh-GCh1uathvZttzWGdU_U0IZUowLcg1LvY=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: EYDARMQHkgxgtm2Fn74g4fO10MTY8Zp0BSQMg90i_UI=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: uk4lEPdApNpdPERyjVmqaH5gvcXOcy0psS0d2mEuOW8=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_res_aware_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: SC-5c8KdsY16jGCM-svtxj8X2_0aT22jvmkLmiGdl7A=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_res_aware_memory.json. Encryption enabled: True

Running test_21_concurrent_access...
HAM: Storing experience of type 'concurrent_test'
HAM: Stored experience mem_000001
HAM: Storing experience of type 'concurrent_test'
HAM: Stored experience mem_000002
HAM: Storing experience of type 'concurrent_test'
HAM: Stored experience mem_000003
HAM: Storing experience of type 'concurrent_test'
HAM: Stored experience mem_000004
HAM: Storing experience of type 'concurrent_test'
HAM: Stored experience mem_000005
HAM: Storing experience of type 'concurrent_test'
HAM: Stored experience mem_000006
HAM: Storing experience of type 'concurrent_test'
HAM: Stored experience mem_000007
HAM: Storing experience of type 'concurrent_test'
HAM: Stored experience mem_000008
HAM: Storing experience of type 'concurrent_test'
HAM: Stored experience mem_000009
HAM: Storing experience of type 'concurrent_test'
HAM: Stored experience mem_000010
HAM: Recalling gist for memory_id 'mem_000001'
HAM: Recalling gist for memory_id 'mem_000002'
HAM: Recalling gist for memory_id 'mem_000003'
HAM: Recalling gist for memory_id 'mem_000004'
HAM: Recalling gist for memory_id 'mem_000005'
HAM: Recalling gist for memory_id 'mem_000006'
HAM: Recalling gist for memory_id 'mem_000007'
HAM: Recalling gist for memory_id 'mem_000008'
HAM: Recalling gist for memory_id 'mem_000009'
HAM: Recalling gist for memory_id 'mem_000010'
HAM: Querying core memory (type: concurrent_test, meta_filters: None, keywords: None)
HAM: Recalling gist for memory_id 'mem_000010'
HAM: Recalling gist for memory_id 'mem_000009'
HAM: Recalling gist for memory_id 'mem_000008'
HAM: Recalling gist for memory_id 'mem_000007'
HAM: Recalling gist for memory_id 'mem_000006'
HAM: Recalling gist for memory_id 'mem_000005'
HAM: Recalling gist for memory_id 'mem_000004'
HAM: Recalling gist for memory_id 'mem_000003'
HAM: Recalling gist for memory_id 'mem_000002'
HAM: Recalling gist for memory_id 'mem_000001'
HAM: Query returned 10 results (limit was 10).
test_21_concurrent_access PASSED
PASSED

=================================== FAILURES ===================================
__________________________ test_19_disk_full_handling __________________________

ham_manager_fixture = (<src.core_ai.memory.ham_memory_manager.HAMMemoryManager object at 0x7f6d11d37320>, <src.core_ai.memory.ham_memory_man...ject at 0x7f6d11c91160>, <MagicMock spec='ResourceAwarenessService' id='140106427228112'>, 'test_ham_core_memory.json')
monkeypatch = <_pytest.monkeypatch.MonkeyPatch object at 0x7f6d11d37410>

    @pytest.mark.timeout(5)  # 5秒超時
    @pytest.mark.asyncio
    async def test_19_disk_full_handling(ham_manager_fixture, monkeypatch):
        """測試磁盤空間不足時的處理"""
        ham_manager_no_res, _, _, _ = ham_manager_fixture
        print("\nRunning test_19_disk_full_handling...")

        # 模擬_get_current_disk_usage_gb返回高使用率
        def mock_get_disk_usage():
            return 9.9  # 假設磁盤空間不足

        monkeypatch.setattr(ham_manager_no_res, '_get_current_disk_usage_gb', mock_get_disk_usage)

        # 存儲應該失敗
        result = ham_manager_no_res.store_experience("Test data", "test_type")
>       assert result is None
E       AssertionError: assert 'mem_000001' is None

tests/core_ai/memory/test_ham_memory_manager.py:469: AssertionError
=========================== short test summary info ============================
FAILED tests/core_ai/memory/test_ham_memory_manager.py::test_19_disk_full_handling
========================= 1 failed, 20 passed in 0.35s =========================
