============================= test session starts ==============================
platform linux -- Python 3.12.11, pytest-8.4.1, pluggy-1.6.0 -- /home/jules/.pyenv/versions/3.12.11/bin/python
cachedir: .pytest_cache
rootdir: /app
configfile: pyproject.toml
plugins: asyncio-1.1.0, timeout-2.4.0
asyncio: mode=Mode.AUTO, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
timeout: 30.0s
timeout method: thread
timeout func_only: False
collecting ... core_ai.lis package initialized (version 0.0.1)
collected 71 items / 21 errors

==================================== ERRORS ====================================
_______ ERROR collecting tests/core_ai/dialogue/test_dialogue_manager.py _______
ImportError while importing test module '/app/tests/core_ai/dialogue/test_dialogue_manager.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/core_ai/dialogue/test_dialogue_manager.py:4: in <module>
    import networkx as nx
E   ModuleNotFoundError: No module named 'networkx'
_____ ERROR collecting tests/core_ai/formula_engine/test_formula_engine.py _____
ImportError while importing test module '/app/tests/core_ai/formula_engine/test_formula_engine.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/core_ai/formula_engine/test_formula_engine.py:6: in <module>
    from src.core_ai.formula_engine import FormulaEngine
src/core_ai/formula_engine/__init__.py:7: in <module>
    from src.shared.types.common_types import FormulaConfigEntry # Added src.
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src/shared/types/common_types.py:4: in <module>
    from typing_extensions import Required
E   ModuleNotFoundError: No module named 'typing_extensions'
_ ERROR collecting tests/core_ai/language_models/test_daily_language_model.py __
ImportError while importing test module '/app/tests/core_ai/language_models/test_daily_language_model.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/core_ai/language_models/test_daily_language_model.py:6: in <module>
    from src.core_ai.language_models.daily_language_model import DailyLanguageModel
src/core_ai/language_models/daily_language_model.py:6: in <module>
    from services.llm_interface import LLMInterface
src/services/llm_interface.py:4: in <module>
    import requests # Added for Ollama integration
    ^^^^^^^^^^^^^^^
E   ModuleNotFoundError: No module named 'requests'
___ ERROR collecting tests/core_ai/learning/test_content_analyzer_module.py ____
ImportError while importing test module '/app/tests/core_ai/learning/test_content_analyzer_module.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/core_ai/learning/test_content_analyzer_module.py:2: in <module>
    import networkx as nx
E   ModuleNotFoundError: No module named 'networkx'
___________ ERROR collecting tests/core_ai/lis/test_ham_lis_cache.py ___________
ImportError while importing test module '/app/tests/core_ai/lis/test_ham_lis_cache.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/core_ai/lis/test_ham_lis_cache.py:7: in <module>
    from src.core_ai.lis.lis_cache_interface import (
src/core_ai/lis/lis_cache_interface.py:18: in <module>
    from src.shared.types.common_types import (
src/shared/types/common_types.py:4: in <module>
    from typing_extensions import Required
E   ModuleNotFoundError: No module named 'typing_extensions'
_______ ERROR collecting tests/core_ai/memory/test_ham_memory_manager.py _______
ImportError while importing test module '/app/tests/core_ai/memory/test_ham_memory_manager.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/core_ai/memory/test_ham_memory_manager.py:8: in <module>
    from src.core_ai.memory.ham_memory_manager import HAMMemoryManager
src/core_ai/memory/ham_memory_manager.py:11: in <module>
    from src.shared.types.common_types import DialogueMemoryEntryMetadata, HAMDataPackageInternal, HAMRecallResult # Import new types, changed to src.
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src/shared/types/common_types.py:4: in <module>
    from typing_extensions import Required
E   ModuleNotFoundError: No module named 'typing_extensions'
_ ERROR collecting tests/core_ai/service_discovery/test_service_discovery_module.py _
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/site-packages/_pytest/python.py:498: in importtestmodule
    mod = import_path(
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/site-packages/_pytest/pathlib.py:587: in import_path
    importlib.import_module(module_name)
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/site-packages/_pytest/assertion/rewrite.py:177: in exec_module
    source_stat, co = _rewrite_test(fn, self.config)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/site-packages/_pytest/assertion/rewrite.py:357: in _rewrite_test
    tree = ast.parse(source, filename=strfn)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/ast.py:52: in parse
    return compile(source, filename, mode, flags,
E     File "/app/tests/core_ai/service_discovery/test_service_discovery_module.py", line 23
E       @pytest.mark.timeout(10)
E       ^
E   IndentationError: expected an indented block after class definition on line 21
_______ ERROR collecting tests/fragmenta/test_fragmenta_orchestrator.py ________
ImportError while importing test module '/app/tests/fragmenta/test_fragmenta_orchestrator.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/fragmenta/test_fragmenta_orchestrator.py:3: in <module>
    from src.fragmenta.fragmenta_orchestrator import FragmentaOrchestrator
src/fragmenta/fragmenta_orchestrator.py:1: in <module>
    from src.core_ai.memory.ham_memory_manager import HAMMemoryManager
src/core_ai/memory/ham_memory_manager.py:11: in <module>
    from src.shared.types.common_types import DialogueMemoryEntryMetadata, HAMDataPackageInternal, HAMRecallResult # Import new types, changed to src.
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src/shared/types/common_types.py:4: in <module>
    from typing_extensions import Required
E   ModuleNotFoundError: No module named 'typing_extensions'
_______________ ERROR collecting tests/hsp/test_hsp_connector.py _______________
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/site-packages/_pytest/python.py:498: in importtestmodule
    mod = import_path(
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/site-packages/_pytest/pathlib.py:587: in import_path
    importlib.import_module(module_name)
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/site-packages/_pytest/assertion/rewrite.py:177: in exec_module
    source_stat, co = _rewrite_test(fn, self.config)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/site-packages/_pytest/assertion/rewrite.py:357: in _rewrite_test
    tree = ast.parse(source, filename=strfn)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/ast.py:52: in parse
    return compile(source, filename, mode, flags,
E     File "/app/tests/hsp/test_hsp_connector.py", line 52
E       @pytest.mark.timeout(10)
E       ^
E   IndentationError: expected an indented block after class definition on line 50
______________ ERROR collecting tests/hsp/test_hsp_integration.py ______________
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/site-packages/_pytest/python.py:498: in importtestmodule
    mod = import_path(
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/site-packages/_pytest/pathlib.py:587: in import_path
    importlib.import_module(module_name)
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/site-packages/_pytest/assertion/rewrite.py:177: in exec_module
    source_stat, co = _rewrite_test(fn, self.config)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/site-packages/_pytest/assertion/rewrite.py:357: in _rewrite_test
    tree = ast.parse(source, filename=strfn)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/ast.py:52: in parse
    return compile(source, filename, mode, flags,
E     File "/app/tests/hsp/test_hsp_integration.py", line 333
E       @pytest.mark.timeout(10)
E   IndentationError: unexpected unindent
_________ ERROR collecting tests/integration/test_knowledge_update.py __________
ImportError while importing test module '/app/tests/integration/test_knowledge_update.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/integration/test_knowledge_update.py:1: in <module>
    import aiounittest
E   ModuleNotFoundError: No module named 'aiounittest'
_________ ERROR collecting tests/integration/test_self_improvement.py __________
ImportError while importing test module '/app/tests/integration/test_self_improvement.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/integration/test_self_improvement.py:1: in <module>
    import aiounittest
E   ModuleNotFoundError: No module named 'aiounittest'
________________ ERROR collecting tests/interfaces/test_cli.py _________________
ImportError while importing test module '/app/tests/interfaces/test_cli.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/interfaces/test_cli.py:7: in <module>
    from src.interfaces.cli import main as cli_main
src/interfaces/cli/main.py:8: in <module>
    from src.hsp.types import HSPFactPayload, HSPMessageEnvelope, HSPCapabilityAdvertisementPayload, HSPTaskResultPayload # Added HSPTaskResultPayload
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src/hsp/types.py:2: in <module>
    from typing_extensions import TypedDict # Import TypedDict from typing_extensions
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   ModuleNotFoundError: No module named 'typing_extensions'
_______ ERROR collecting tests/services/test_ai_virtual_input_service.py _______
ImportError while importing test module '/app/tests/services/test_ai_virtual_input_service.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/services/test_ai_virtual_input_service.py:5: in <module>
    from src.services.ai_virtual_input_service import AIVirtualInputService, VirtualInputElementDescription
src/services/ai_virtual_input_service.py:15: in <module>
    from src.shared.types.common_types import (
src/shared/types/common_types.py:4: in <module>
    from typing_extensions import Required
E   ModuleNotFoundError: No module named 'typing_extensions'
____________ ERROR collecting tests/services/test_llm_interface.py _____________
ImportError while importing test module '/app/tests/services/test_llm_interface.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/services/test_llm_interface.py:5: in <module>
    from src.services.llm_interface import LLMInterface
src/services/llm_interface.py:4: in <module>
    import requests # Added for Ollama integration
    ^^^^^^^^^^^^^^^
E   ModuleNotFoundError: No module named 'requests'
___________ ERROR collecting tests/services/test_main_api_server.py ____________
ImportError while importing test module '/app/tests/services/test_main_api_server.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/services/test_main_api_server.py:5: in <module>
    from src.services.main_api_server import app
src/services/main_api_server.py:1: in <module>
    import uvicorn # For running the app
    ^^^^^^^^^^^^^^
E   ModuleNotFoundError: No module named 'uvicorn'
_________ ERROR collecting tests/services/test_main_api_server_hsp.py __________
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/site-packages/_pytest/python.py:498: in importtestmodule
    mod = import_path(
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/site-packages/_pytest/pathlib.py:587: in import_path
    importlib.import_module(module_name)
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/site-packages/_pytest/assertion/rewrite.py:177: in exec_module
    source_stat, co = _rewrite_test(fn, self.config)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/site-packages/_pytest/assertion/rewrite.py:357: in _rewrite_test
    tree = ast.parse(source, filename=strfn)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/ast.py:52: in parse
    return compile(source, filename, mode, flags,
E     File "/app/tests/services/test_main_api_server_hsp.py", line 95
E       @pytest.mark.timeout(10)
E       ^
E   IndentationError: expected an indented block after class definition on line 93
______ ERROR collecting tests/services/test_resource_awareness_service.py ______
ImportError while importing test module '/app/tests/services/test_resource_awareness_service.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/services/test_resource_awareness_service.py:7: in <module>
    from src.services.resource_awareness_service import ResourceAwarenessService, DEFAULT_CONFIG_PATH
src/services/resource_awareness_service.py:11: in <module>
    from src.shared.types.common_types import (
src/shared/types/common_types.py:4: in <module>
    from typing_extensions import Required
E   ModuleNotFoundError: No module named 'typing_extensions'
_______________ ERROR collecting tests/tools/test_logic_model.py _______________
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/site-packages/_pytest/python.py:498: in importtestmodule
    mod = import_path(
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/site-packages/_pytest/pathlib.py:587: in import_path
    importlib.import_module(module_name)
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/site-packages/_pytest/assertion/rewrite.py:177: in exec_module
    source_stat, co = _rewrite_test(fn, self.config)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/site-packages/_pytest/assertion/rewrite.py:357: in _rewrite_test
    tree = ast.parse(source, filename=strfn)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/ast.py:52: in parse
    return compile(source, filename, mode, flags,
E     File "/app/tests/tools/test_logic_model.py", line 44
E       def test_01_logic_data_generator(self):
E   IndentationError: unexpected indent
_______________ ERROR collecting tests/tools/test_math_model.py ________________
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/site-packages/_pytest/python.py:498: in importtestmodule
    mod = import_path(
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/site-packages/_pytest/pathlib.py:587: in import_path
    importlib.import_module(module_name)
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/site-packages/_pytest/assertion/rewrite.py:177: in exec_module
    source_stat, co = _rewrite_test(fn, self.config)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/site-packages/_pytest/assertion/rewrite.py:357: in _rewrite_test
    tree = ast.parse(source, filename=strfn)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/ast.py:52: in parse
    return compile(source, filename, mode, flags,
E     File "/app/tests/tools/test_math_model.py", line 41
E       def test_data_generator_csv(self):
E   IndentationError: unexpected indent
____________ ERROR collecting tests/tools/test_translation_model.py ____________
ImportError while importing test module '/app/tests/tools/test_translation_model.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/tools/test_translation_model.py:14: in <module>
    from src.tools.tool_dispatcher import ToolDispatcher
src/tools/tool_dispatcher.py:10: in <module>
    from src.core_ai.language_models.daily_language_model import DailyLanguageModel
src/core_ai/language_models/daily_language_model.py:6: in <module>
    from services.llm_interface import LLMInterface
src/services/llm_interface.py:4: in <module>
    import requests # Added for Ollama integration
    ^^^^^^^^^^^^^^^
E   ModuleNotFoundError: No module named 'requests'
=========================== short test summary info ============================
ERROR tests/core_ai/dialogue/test_dialogue_manager.py
ERROR tests/core_ai/formula_engine/test_formula_engine.py
ERROR tests/core_ai/language_models/test_daily_language_model.py
ERROR tests/core_ai/learning/test_content_analyzer_module.py
ERROR tests/core_ai/lis/test_ham_lis_cache.py
ERROR tests/core_ai/memory/test_ham_memory_manager.py
ERROR tests/core_ai/service_discovery/test_service_discovery_module.py
ERROR tests/fragmenta/test_fragmenta_orchestrator.py
ERROR tests/hsp/test_hsp_connector.py
ERROR tests/hsp/test_hsp_integration.py
ERROR tests/integration/test_knowledge_update.py
ERROR tests/integration/test_self_improvement.py
ERROR tests/interfaces/test_cli.py
ERROR tests/services/test_ai_virtual_input_service.py
ERROR tests/services/test_llm_interface.py
ERROR tests/services/test_main_api_server.py
ERROR tests/services/test_main_api_server_hsp.py
ERROR tests/services/test_resource_awareness_service.py
ERROR tests/tools/test_logic_model.py
ERROR tests/tools/test_math_model.py
ERROR tests/tools/test_translation_model.py
!!!!!!!!!!!!!!!!!!! Interrupted: 21 errors during collection !!!!!!!!!!!!!!!!!!!
============================== 21 errors in 2.14s ==============================
