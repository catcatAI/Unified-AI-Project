============================= test session starts ==============================
platform linux -- Python 3.12.11, pytest-8.4.1, pluggy-1.6.0 -- /home/jules/.pyenv/versions/3.12.11/bin/python
cachedir: .pytest_cache
rootdir: /app
configfile: pyproject.toml
plugins: asyncio-1.1.0, timeout-2.4.0
asyncio: mode=Mode.AUTO, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
timeout: 10.0s
timeout method: thread
timeout func_only: False
collecting ... common_types.py (debug version) is being imported and defining ServiceStatus...
common_types.py (debug version) finished definitions.
ResourceAwarenessService module loaded.
collected 21 items

tests/core_ai/memory/test_ham_memory_manager.py::test_01_initialization_and_empty_store CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: PMcUbU5v2s0w0HG2IkNBCMJbCA1RBOKkbdKb0u_AFHc=
Core memory loaded from /app/data/processed_data/test_ham_core_memory.json. Next ID: 6
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: dYFYAxwk_1icl29s67GEd8IpegWX7kGCviwF7afeKWc=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: CDL-G1uoqYXTQQj2ahdYtCjFUUS9ZrzT-NlnJNvMT78=
Core memory loaded from /app/data/processed_data/test_ham_res_aware_memory.json. Next ID: 1
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_res_aware_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: G0G8EiYC5nl0oTLTNv2L1P6mSHd8ChCOrBs1SQZ4Ji4=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_res_aware_memory.json. Encryption enabled: True

Running test_01_initialization_and_empty_store...
test_01_initialization_and_empty_store PASSED
PASSED
tests/core_ai/memory/test_ham_memory_manager.py::test_02_store_and_recall_text_experience CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: a7KI8m8xKw5jedNOtrlFG-qvXTuMIRomzDGTfdF_M_s=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: 0n1cC-KUSKuY4pyWRy7M67uBUapgK_0EhPrrRkzhNU0=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: vEBT01dhNZu9tKhpKOo3XaBZcyVXYtJ6YsO1HVvgDeY=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_res_aware_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: KYgzvj0bzsL65rxmGgQXoi5Sxzdy-fjHUtsoqLzS48k=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_res_aware_memory.json. Encryption enabled: True

Running test_02_store_and_recall_text_experience...
HAM: Storing experience of type 'dialogue_text'
HAM: Placeholder: Detected English-like text, conceptual POS tags would be generated.
HAM: Stored experience mem_000001
HAM: Recalling gist for memory_id 'mem_000001'
test_02_store_and_recall_text_experience PASSED
PASSED
tests/core_ai/memory/test_ham_memory_manager.py::test_03_store_and_recall_generic_data CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: ifcNh4vu-b-vN_bf8tLePmA73qw9iN5VMMRjc217L1o=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: CtzcIfxBP0k_AyVk_psmsb1APX68HwQEDeQoz65CplI=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: g4PCF9236-oNfbf2sWu4VUfpRit_GrOJkJOYAEy_xPo=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_res_aware_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: f_ueR70pyOZ9HfAyvg5Eqncn60rlnCNVmozsI9J8WYo=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_res_aware_memory.json. Encryption enabled: True

Running test_03_store_and_recall_generic_data...
HAM: Storing experience of type 'sensor_reading'
HAM: Stored experience mem_000001
HAM: Recalling gist for memory_id 'mem_000001'
test_03_store_and_recall_generic_data PASSED
PASSED
tests/core_ai/memory/test_ham_memory_manager.py::test_04_persistence CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: UHLFOI9TVsC57QvM4z8JV2VXuKmm6UjOPaF-kKzyiWI=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: xvFSdjd144ODhKSkKhVBWteQA9GCvm5Rabs_PpE4JiY=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: 3LeeeI7rwt0ctuOosRvQ9rXaKdJNDSezUdLFBUrEUig=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_res_aware_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: C-9vvv4zhmUrsQHc9gZyDLkc_GbzLCEWop2AQmjRV1g=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_res_aware_memory.json. Encryption enabled: True

Running test_04_persistence...
Core memory loaded from /app/data/processed_data/test_ham_core_memory.json. Next ID: 1
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
HAM: Storing experience of type 'log_entry'
HAM: Stored experience mem_000001
Core memory loaded from /app/data/processed_data/test_ham_core_memory.json. Next ID: 2
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
HAM: Recalling gist for memory_id 'mem_000001'
test_04_persistence PASSED
PASSED
tests/core_ai/memory/test_ham_memory_manager.py::test_05_recall_non_existent_memory CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: zE6w5YEUaXdlV2zLmK2k83pPHT__qunM3LB39JpGgjQ=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: 6awQF_LKk3C0r6KUIflKSbgFsKFpa9P-OCCOLiijZo0=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: 6uCOkkQyggszCdvXCYoJ4IzXHyGLmMdE-dJbOQHvQSs=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_res_aware_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: dMlOvXM-yVRGDKWXqHsydwd21OCb856GSPAcWRYuBCE=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_res_aware_memory.json. Encryption enabled: True

Running test_05_recall_non_existent_memory...
HAM: Recalling gist for memory_id 'mem_nonexistent'
Error: Memory ID mem_nonexistent not found.
test_05_recall_non_existent_memory PASSED
PASSED
tests/core_ai/memory/test_ham_memory_manager.py::test_06_query_memory_keywords CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: voV3LzB_IpUMjs4R9wB-jBa1oje3V1ZDtt2dQXmYLUA=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: tTxp8D1Zy0RBimc9GQY5lyf9rfLE0843jfkq2ojcon4=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: TUf9EwxYHE_KxHmP8z-nTZ23XdhQqEFXe9ln8367viY=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_res_aware_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: 2L1onAeMAJkTMjRJnOQV9AP-5NS-UOwbCOoyNdwWMdw=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_res_aware_memory.json. Encryption enabled: True

Running test_06_query_memory_keywords...
HAM: Storing experience of type 'dialogue_text'
HAM: Placeholder: Detected English-like text, conceptual POS tags would be generated.
HAM: Stored experience mem_000001
HAM: Storing experience of type 'dialogue_text'
HAM: Placeholder: Detected English-like text, conceptual POS tags would be generated.
HAM: Stored experience mem_000002
HAM: Storing experience of type 'log_entry'
HAM: Stored experience mem_000003
HAM: Querying core memory (type: None, meta_filters: None, keywords: ['weather', 'alice'])
HAM: Recalling gist for memory_id 'mem_000001'
HAM: Query returned 1 results (limit was 5).
HAM: Querying core memory (type: None, meta_filters: None, keywords: ['weather'])
HAM: Recalling gist for memory_id 'mem_000003'
HAM: Recalling gist for memory_id 'mem_000001'
HAM: Query returned 2 results (limit was 5).
test_06_query_memory_keywords PASSED
PASSED
tests/core_ai/memory/test_ham_memory_manager.py::test_07_query_memory_data_type CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: omKFua_YoMi9yjOZ2qfCbMw20XxrE_3DraBsDcDJ7jA=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: mUvKZHBkT4yGFUbG4zqPs7Mm2S39khAah-zuP_jMcNs=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: XaXakT3C2tWKp_4vU1Y4DEkAgj3d92g85FG84Qr1X4k=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_res_aware_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: LADy7bn6W66wGG1-Qs-38z2nUbE_52Fz_JW0oiSVGP0=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_res_aware_memory.json. Encryption enabled: True

Running test_07_query_memory_data_type...
HAM: Storing experience of type 'dialogue_text'
HAM: Placeholder: Detected English-like text, conceptual POS tags would be generated.
HAM: Stored experience mem_000001
HAM: Storing experience of type 'log_entry'
HAM: Stored experience mem_000002
HAM: Storing experience of type 'dialogue_text'
HAM: Placeholder: Detected English-like text, conceptual POS tags would be generated.
HAM: Stored experience mem_000003
HAM: Querying core memory (type: dialogue_text, meta_filters: None, keywords: None)
HAM: Recalling gist for memory_id 'mem_000003'
HAM: Recalling gist for memory_id 'mem_000001'
HAM: Query returned 2 results (limit was 10).
test_07_query_memory_data_type PASSED
PASSED
tests/core_ai/memory/test_ham_memory_manager.py::test_08_query_memory_date_range CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: TlDOAEsgDeH8D3gGhGwzk1htjustEpmuwE_GpML_ulI=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: V190ZNOp525IwMnoVU2lWhZTs8kBo2GBOrwNQvlG2bc=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: TCPvUvIGBdNAqHKxFyrHIkfk1b_I0reiq5-4zi8tZrk=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_res_aware_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: epVgPjlSkOu6la17gPeMneS9vneM4SjVMAuI5Eff8a4=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_res_aware_memory.json. Encryption enabled: True

Running test_08_query_memory_date_range...
HAM: Storing experience of type 'event'
HAM: Stored experience mem_000001
HAM: Querying core memory (type: None, meta_filters: None, keywords: None)
HAM: Recalling gist for memory_id 'mem_000001'
HAM: Query returned 1 results (limit was 5).
HAM: Querying core memory (type: None, meta_filters: None, keywords: None)
HAM: Query returned 0 results (limit was 5).
test_08_query_memory_date_range PASSED (basic check)
PASSED
tests/core_ai/memory/test_ham_memory_manager.py::test_09_empty_text_abstraction CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: a-X6Zk6oSujvOrF_hTkLpbVoGLaA9pHXndzKwwKEMNw=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: rnTz1EzJ7YdgAjzN3rRpVZSxf5c1JcojQ3xJZZ0iU08=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: V1qrCHxP1qLlUnE2gV-Jy2b3Wq2TtCiEdRjL5QZcgRo=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_res_aware_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: wVEBHuAo0u2Fa0ihbtQluCs-Eq6aXydKJ6Mr7D327G0=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_res_aware_memory.json. Encryption enabled: True

Running test_09_empty_text_abstraction...
HAM: Storing experience of type 'dialogue_text'
HAM: Placeholder: Detected English-like text, conceptual POS tags would be generated.
HAM: Stored experience mem_000001
HAM: Recalling gist for memory_id 'mem_000001'
test_09_empty_text_abstraction PASSED
PASSED
tests/core_ai/memory/test_ham_memory_manager.py::test_10_encryption_decryption CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: TbnRftkbFRlZJ4lAalfc-noBhY4yzcxE93tbjf6LTmo=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: r5HqgLmyM4x5Sg8tLMpF-QFHLpgHfYJNgJMNAwtSoS0=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: 5crW4Rf0UmRXRdWDpZ4PQVLFTqzz8dDL2eEhZLH5NvE=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_res_aware_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: zevemSsu5mN_ZTcdjfn69OE_JvYEio8jI4q6Vl5z1P4=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_res_aware_memory.json. Encryption enabled: True

Running test_10_encryption_decryption...
test_10_encryption_decryption PASSED
PASSED
tests/core_ai/memory/test_ham_memory_manager.py::test_11_checksum_verification CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: mKvMwcXE92Wl5X7E_ax4Eo7oe0RaJxkWuKpF4uoPN3c=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: iywqjFB6NifKfWI_iN0vfyZI_99VfAltZqez_37_6DI=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: kI7vMrdfytQdC-sGNC89iVCoD01CnH4FXqOZ2HrvK3U=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_res_aware_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: b1VqcSag4Tk3jh2rhMEUoTgVltfaqjTow4lp_lpIHb4=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_res_aware_memory.json. Encryption enabled: True

Running test_11_checksum_verification...
HAM: Storing experience of type 'dialogue_text'
HAM: Placeholder: Detected English-like text, conceptual POS tags would be generated.
HAM: Stored experience mem_000001
test_11_checksum_verification PASSED (mismatch test depends on encryption state)
PASSED
tests/core_ai/memory/test_ham_memory_manager.py::test_12_advanced_text_abstraction_placeholders CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: h6LJ9pDp50YnRHTKjXW5ryOIp19n00p91OynUG9X3Io=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: awZePIFlpjC_j5A0kIjM1oJ4duEc9vNf73Ab-I70sJg=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: QY1KvjgUQSxh4BcEzUtTzFGhicorEviPz3XDMARz8TM=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_res_aware_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: oifAyc5X45Bbp5mRAovhJe73WHvc6bivhtr6chRCp9I=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_res_aware_memory.json. Encryption enabled: True

Running test_12_advanced_text_abstraction_placeholders...
HAM: Storing experience of type 'user_dialogue_text'
HAM: Placeholder: Detected English-like text, conceptual POS tags would be generated.
HAM: Stored experience mem_000001
HAM: Recalling gist for memory_id 'mem_000001'
Core memory file not found. Initializing an empty store and saving.
HAM: Storing experience of type 'user_dialogue_text'
HAM: Placeholder: Detected Chinese-like text, conceptual radicals would be extracted.
HAM: Stored experience mem_000001
HAM: Recalling gist for memory_id 'mem_000001'
test_12_advanced_text_abstraction_placeholders PASSED
PASSED
tests/core_ai/memory/test_ham_memory_manager.py::test_13_store_experience_simulated_disk_full CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: Pj7hUsaKvRMonY47TRHoTGfPXceq4JVmToYD3Sow89s=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: lrmsgcyg33RJpQVFzfFyjHojZBfEI4Qb4iamJd09Uwg=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: 7gMp7BDAGgD73G5LbiDpkG1J_N-zXT_chVdvUqDJ9no=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_res_aware_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: oEBGn7Wq01v19GOcBovZi88YaHp5OGD0xtBIASTPEE8=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_res_aware_memory.json. Encryption enabled: True

Running test_13_store_experience_simulated_disk_full...
HAM: Storing experience of type 'test_data_disk_full'
HAM: CRITICAL - Simulated disk full! Usage: 1.00GB, Limit: 1.00GB. Save operation aborted.
HAM: Failed to save core memory to file for experience mem_000001. Reverting in-memory store for this item.
test_13_store_experience_simulated_disk_full PASSED
PASSED
tests/core_ai/memory/test_ham_memory_manager.py::test_14_store_experience_simulated_lag_warning CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: fm5coKuBsN2RKK1aJOXMzckLaVG2nRW_MsPjeiXgxEA=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: 7Y19q9_n6VhoOWaH2PZjD9GfGGrLNhGtWWGFJvoZplo=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: XIYpeY6KCKM7rDz8bEksWJ66nsgbjDGycniPtwjfzMM=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_res_aware_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: hzE-t0053k3WIukT1e6DJ6v1L44KUX5HH-4KJy7pCRo=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_res_aware_memory.json. Encryption enabled: True

Running test_14_store_experience_simulated_lag_warning...
test_14_store_experience_simulated_lag_warning PASSED
PASSED
tests/core_ai/memory/test_ham_memory_manager.py::test_15_store_experience_simulated_lag_critical CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: TJNVfmXsSW85pgt0Ma7TQpmcf_-i_-pysAF9SgUOz8U=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: T85461pFplJf_Jnl1v6FoLeQKXWXMOPdCPIryN2g6so=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: zrH7Hqqd3Dt0v9una0zAN3EGc2ObrZj50dxz05P4emg=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_res_aware_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: g6_yD23HsHfqUD5c3DikjZU3E43XQGZm52MGvEuhpos=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_res_aware_memory.json. Encryption enabled: True

Running test_15_store_experience_simulated_lag_critical...
test_15_store_experience_simulated_lag_critical PASSED
PASSED
tests/core_ai/memory/test_ham_memory_manager.py::test_16_get_current_disk_usage_gb CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: gsPrfc30h44_Ec09z9ZtoSMKSPmC_QkD2mpoOA4Gdbs=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: CAj7yDQErdd0Q4bhxB_kKIFdpP8Tav0veTe7b6Z3PMk=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: sAdkRmn_I53fiJaeoX0N_RAOxMybDTjFNbXyppfTUP4=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_res_aware_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: Qy8OYCYQE0F9L2SjhOsaIr2KJ9BSfTYkhiU6yIep78g=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_res_aware_memory.json. Encryption enabled: True

Running test_16_get_current_disk_usage_gb...
HAM: Storing experience of type 'test_file_size'
HAM: Stored experience mem_000001
test_16_get_current_disk_usage_gb PASSED
PASSED
tests/core_ai/memory/test_ham_memory_manager.py::test_17_query_core_memory_return_multiple_candidates CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: RMoJgSlRbAXrqPmmBNnvFpvj4jrmrVth64KACNUh67g=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: 2SO_B2pxcALJir0lug7Z2ZGIELSQacbpFxvPDcrHXjk=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: -JSr6BiZdmrNsFq6fB-5EIhvzwndRokzjuV12koC9Tw=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_res_aware_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: 8CGSWcl3T54e5J2hbZu-PhqYHCATu-I9KHSssSMJ5gg=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_res_aware_memory.json. Encryption enabled: True

Running test_17_query_core_memory_return_multiple_candidates...
HAM: Storing experience of type 'candidate_test'
HAM: Stored experience mem_000001
HAM: Storing experience of type 'candidate_test'
HAM: Stored experience mem_000002
HAM: Storing experience of type 'candidate_test'
HAM: Stored experience mem_000003
HAM: Storing experience of type 'candidate_test'
HAM: Stored experience mem_000004
HAM: Storing experience of type 'candidate_test'
HAM: Stored experience mem_000005
HAM: Storing experience of type 'candidate_test'
HAM: Stored experience mem_000006
HAM: Storing experience of type 'candidate_test'
HAM: Stored experience mem_000007
HAM: Storing experience of type 'candidate_test'
HAM: Stored experience mem_000008
HAM: Storing experience of type 'candidate_test'
HAM: Stored experience mem_000009
HAM: Storing experience of type 'candidate_test'
HAM: Stored experience mem_000010
HAM: Querying core memory (type: candidate_test, meta_filters: None, keywords: None)
HAM: Recalling gist for memory_id 'mem_000010'
HAM: Recalling gist for memory_id 'mem_000009'
HAM: Recalling gist for memory_id 'mem_000008'
HAM: Recalling gist for memory_id 'mem_000007'
HAM: Recalling gist for memory_id 'mem_000006'
HAM: Recalling gist for memory_id 'mem_000005'
HAM: Recalling gist for memory_id 'mem_000004'
HAM: Recalling gist for memory_id 'mem_000003'
HAM: Recalling gist for memory_id 'mem_000002'
HAM: Recalling gist for memory_id 'mem_000001'
test_17_query_core_memory_return_multiple_candidates PASSED
PASSED
tests/core_ai/memory/test_ham_memory_manager.py::test_18_encryption_failure CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: 2Zj6bUz3GFgd22f248i-XN7OfVIMu-ZYWwq4FmAaqpk=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: n352b93KkbIlUhGwEVWKy6Rn9b2WoFlaXU1TOOv0m7c=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: RC1xy8tssXbLwQkd5T_z7crAa5XqemW4hgULkcFLvHY=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_res_aware_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: 7mq-dqzqn4kPhgeou3fXeuaiV7YyiJbe3Ec2Nkp53Tc=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_res_aware_memory.json. Encryption enabled: True

Running test_18_encryption_failure...
HAM: Storing experience of type 'test_type'
Error during SL processing (compress/encrypt/checksum): Encryption failed
FAILED
tests/core_ai/memory/test_ham_memory_manager.py::test_19_disk_full_handling CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: N7ErkznBMYh_VJOsqwPO7UQbYgnm5-eNDsxAFtnfNjE=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: rgXCWjczOVVgZZWm3ZE2-osCY75aFNqWWdOqctOgHN0=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: 1ItmSBinznPnYeI4SOGteCjhNniRh9gJ1pavNbOOowM=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_res_aware_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: yAqXY2Dn6f6wFP2OY9rSpVjgYDslpy7fQoCBwmpFfhY=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_res_aware_memory.json. Encryption enabled: True

Running test_19_disk_full_handling...
HAM: Storing experience of type 'test_type'
HAM: Stored experience mem_000001
FAILED
tests/core_ai/memory/test_ham_memory_manager.py::test_20_delete_old_experiences CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: 07H1bAgkKKwJQvZZgc1A-fEa-PNSvQiLG94Bir9GLpg=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: Qd7e916LzqGw3TdcM5guASIrmM_LC5oXK0G9pytK_MI=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: ofeEV2d677UbPNkXfRV19d0QN1av2pRCAiCQgaCQ_e4=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_res_aware_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: t4kMIjqyhIX30rQSlB24AWFie7Yrfg5kGcmUpBwFRGQ=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_res_aware_memory.json. Encryption enabled: True

Running test_20_delete_old_experiences...
HAM: Storing experience of type 'test_type'
HAM: Stored experience mem_000001
HAM: Storing experience of type 'test_type'
HAM: Stored experience mem_000002
HAM: Storing experience of type 'test_type'
HAM: Stored experience mem_000003
HAM: Storing experience of type 'test_type'
HAM: Stored experience mem_000004
HAM: Storing experience of type 'test_type'
HAM: Stored experience mem_000005
FAILED
tests/core_ai/memory/test_ham_memory_manager.py::test_21_concurrent_access CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: FeUJ2KTIVMKf3JGL-hYj59iYggX0RBBow_vepGJHrY4=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: mNnmbhQWp_vBc42t6Xzl5tgg8TSR5g0Z3Mlnxsb7MpA=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_core_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: _7U0BI6YO4mpV7jnJZUPPs9ugOCdPgLfPoI40jWL0sU=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_res_aware_memory.json. Encryption enabled: True
CRITICAL WARNING: MIKO_HAM_KEY environment variable not set.
Encryption/Decryption will NOT be functional. Generating a TEMPORARY, NON-PERSISTENT key for this session only.
DO NOT use this for any real data you want to keep, as it will be lost.
Temporary MIKO_HAM_KEY for this session: DdCmCD0CrI0HU-zfSE0o5SMQN-Fc8ozwY6NVkjQbboY=
Core memory file not found. Initializing an empty store and saving.
HAMMemoryManager initialized. Core memory file: /app/data/processed_data/test_ham_res_aware_memory.json. Encryption enabled: True

Running test_21_concurrent_access...
HAM: Storing experience of type 'concurrent_test'
HAM: Stored experience mem_000001
HAM: Storing experience of type 'concurrent_test'
HAM: Stored experience mem_000002
HAM: Storing experience of type 'concurrent_test'
HAM: Stored experience mem_000003
HAM: Storing experience of type 'concurrent_test'
HAM: Stored experience mem_000004
HAM: Storing experience of type 'concurrent_test'
HAM: Stored experience mem_000005
HAM: Storing experience of type 'concurrent_test'
HAM: Stored experience mem_000006
HAM: Storing experience of type 'concurrent_test'
HAM: Stored experience mem_000007
HAM: Storing experience of type 'concurrent_test'
HAM: Stored experience mem_000008
HAM: Storing experience of type 'concurrent_test'
HAM: Stored experience mem_000009
HAM: Storing experience of type 'concurrent_test'
HAM: Stored experience mem_000010
HAM: Recalling gist for memory_id 'mem_000001'
FAILED

=================================== FAILURES ===================================
__________________________ test_18_encryption_failure __________________________

ham_manager_fixture = (<src.core_ai.memory.ham_memory_manager.HAMMemoryManager object at 0x7f7e318d1670>, <src.core_ai.memory.ham_memory_man...ject at 0x7f7e318ee1e0>, <MagicMock spec='ResourceAwarenessService' id='140179974046592'>, 'test_ham_core_memory.json')
monkeypatch = <_pytest.monkeypatch.MonkeyPatch object at 0x7f7e318d1730>

    @pytest.mark.timeout(5)  # 5秒超時
    @pytest.mark.asyncio
    async def test_18_encryption_failure(ham_manager_fixture, monkeypatch):
        """測試加密失敗時的錯誤處理"""
        ham_manager_no_res, _, _, _ = ham_manager_fixture
        print("\nRunning test_18_encryption_failure...")

        # 模擬加密失敗
        def mock_encrypt(data):
            raise Exception("Encryption failed")

        monkeypatch.setattr(ham_manager_no_res, '_encrypt', mock_encrypt)

        # 存儲應該失敗
>       with pytest.raises(Exception, match="Failed to store experience: Encryption failed"):
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E       Failed: DID NOT RAISE <class 'Exception'>

tests/core_ai/memory/test_ham_memory_manager.py:450: Failed
------------------------------ Captured log setup ------------------------------
ERROR    asyncio:base_events.py:1833 Task exception was never retrieved
future: <Task finished name='Task-175' coro=<HAMMemoryManager._delete_old_experiences() done, defined at /app/src/core_ai/memory/ham_memory_manager.py:474> exception=ModuleNotFoundError("No module named 'psutil'")>
Traceback (most recent call last):
  File "/app/src/core_ai/memory/ham_memory_manager.py", line 478, in _delete_old_experiences
    import psutil
ModuleNotFoundError: No module named 'psutil'
ERROR    asyncio:base_events.py:1833 Task exception was never retrieved
future: <Task finished name='Task-176' coro=<HAMMemoryManager._delete_old_experiences() done, defined at /app/src/core_ai/memory/ham_memory_manager.py:474> exception=ModuleNotFoundError("No module named 'psutil'")>
Traceback (most recent call last):
  File "/app/src/core_ai/memory/ham_memory_manager.py", line 478, in _delete_old_experiences
    import psutil
ModuleNotFoundError: No module named 'psutil'
ERROR    asyncio:base_events.py:1833 Task exception was never retrieved
future: <Task finished name='Task-177' coro=<HAMMemoryManager._delete_old_experiences() done, defined at /app/src/core_ai/memory/ham_memory_manager.py:474> exception=ModuleNotFoundError("No module named 'psutil'")>
Traceback (most recent call last):
  File "/app/src/core_ai/memory/ham_memory_manager.py", line 478, in _delete_old_experiences
    import psutil
ModuleNotFoundError: No module named 'psutil'
ERROR    asyncio:base_events.py:1833 Task exception was never retrieved
future: <Task finished name='Task-178' coro=<HAMMemoryManager._delete_old_experiences() done, defined at /app/src/core_ai/memory/ham_memory_manager.py:474> exception=ModuleNotFoundError("No module named 'psutil'")>
Traceback (most recent call last):
  File "/app/src/core_ai/memory/ham_memory_manager.py", line 478, in _delete_old_experiences
    import psutil
ModuleNotFoundError: No module named 'psutil'
__________________________ test_19_disk_full_handling __________________________

ham_manager_fixture = (<src.core_ai.memory.ham_memory_manager.HAMMemoryManager object at 0x7f7e318d1bb0>, <src.core_ai.memory.ham_memory_man...ject at 0x7f7e318c5550>, <MagicMock spec='ResourceAwarenessService' id='140179973937520'>, 'test_ham_core_memory.json')
monkeypatch = <_pytest.monkeypatch.MonkeyPatch object at 0x7f7e318d1040>

    @pytest.mark.timeout(5)  # 5秒超時
    @pytest.mark.asyncio
    async def test_19_disk_full_handling(ham_manager_fixture, monkeypatch):
        """測試磁盤空間不足時的處理"""
        ham_manager_no_res, _, _, _ = ham_manager_fixture
        print("\nRunning test_19_disk_full_handling...")

        # 模擬_get_current_disk_usage_gb返回高使用率
        def mock_get_disk_usage():
            return 9.9  # 假設磁盤空間不足

        monkeypatch.setattr(ham_manager_no_res, '_get_current_disk_usage_gb', mock_get_disk_usage)

        # 存儲應該失敗
>       with pytest.raises(Exception, match="Insufficient disk space"):
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E       Failed: DID NOT RAISE <class 'Exception'>

tests/core_ai/memory/test_ham_memory_manager.py:468: Failed
------------------------------ Captured log setup ------------------------------
ERROR    asyncio:base_events.py:1833 Task exception was never retrieved
future: <Task finished name='Task-185' coro=<HAMMemoryManager._delete_old_experiences() done, defined at /app/src/core_ai/memory/ham_memory_manager.py:474> exception=ModuleNotFoundError("No module named 'psutil'")>
Traceback (most recent call last):
  File "/app/src/core_ai/memory/ham_memory_manager.py", line 478, in _delete_old_experiences
    import psutil
ModuleNotFoundError: No module named 'psutil'
ERROR    asyncio:base_events.py:1833 Task exception was never retrieved
future: <Task finished name='Task-186' coro=<HAMMemoryManager._delete_old_experiences() done, defined at /app/src/core_ai/memory/ham_memory_manager.py:474> exception=ModuleNotFoundError("No module named 'psutil'")>
Traceback (most recent call last):
  File "/app/src/core_ai/memory/ham_memory_manager.py", line 478, in _delete_old_experiences
    import psutil
ModuleNotFoundError: No module named 'psutil'
ERROR    asyncio:base_events.py:1833 Task exception was never retrieved
future: <Task finished name='Task-187' coro=<HAMMemoryManager._delete_old_experiences() done, defined at /app/src/core_ai/memory/ham_memory_manager.py:474> exception=ModuleNotFoundError("No module named 'psutil'")>
Traceback (most recent call last):
  File "/app/src/core_ai/memory/ham_memory_manager.py", line 478, in _delete_old_experiences
    import psutil
ModuleNotFoundError: No module named 'psutil'
ERROR    asyncio:base_events.py:1833 Task exception was never retrieved
future: <Task finished name='Task-188' coro=<HAMMemoryManager._delete_old_experiences() done, defined at /app/src/core_ai/memory/ham_memory_manager.py:474> exception=ModuleNotFoundError("No module named 'psutil'")>
Traceback (most recent call last):
  File "/app/src/core_ai/memory/ham_memory_manager.py", line 478, in _delete_old_experiences
    import psutil
ModuleNotFoundError: No module named 'psutil'
________________________ test_20_delete_old_experiences ________________________

ham_manager_fixture = (<src.core_ai.memory.ham_memory_manager.HAMMemoryManager object at 0x7f7e318d1a00>, <src.core_ai.memory.ham_memory_man...ject at 0x7f7e318ef650>, <MagicMock spec='ResourceAwarenessService' id='140179973936512'>, 'test_ham_core_memory.json')
monkeypatch = <_pytest.monkeypatch.MonkeyPatch object at 0x7f7e318d12b0>

    @pytest.mark.timeout(10)  # 10秒超時，因為這個測試可能涉及等待
    @pytest.mark.asyncio
    async def test_20_delete_old_experiences(ham_manager_fixture, monkeypatch):
        """測試自動清理舊記憶"""
        ham_manager_no_res, _, _, _ = ham_manager_fixture
        print("\nRunning test_20_delete_old_experiences...")

        # 添加一些測試記憶
        for i in range(5):
            ham_manager_no_res.store_experience(f"Test memory {i}", "test_type")

        # 保存初始記憶數量
        initial_count = len(ham_manager_no_res.core_memory_store)

        # 模擬高內存使用率
        def mock_memory_usage():
            return 0.9  # 90% 使用率

        # 創建一個模擬的 personality_manager
        class MockPersonalityManager:
            def get_current_personality_trait(self, trait_name, default=None):
                return 0.1  # 低保留率，更積極地清理

        # 替換 personality_manager
        ham_manager_no_res.personality_manager = MockPersonalityManager()

        # 手動觸發清理
>       await ham_manager_no_res._delete_old_experiences()

tests/core_ai/memory/test_ham_memory_manager.py:499:
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

self = <src.core_ai.memory.ham_memory_manager.HAMMemoryManager object at 0x7f7e318d1a00>

    async def _delete_old_experiences(self):
        """
        Deletes old experiences that are no longer relevant.
        """
>       import psutil
E       ModuleNotFoundError: No module named 'psutil'

src/core_ai/memory/ham_memory_manager.py:478: ModuleNotFoundError
------------------------------ Captured log setup ------------------------------
ERROR    asyncio:base_events.py:1833 Task exception was never retrieved
future: <Task finished name='Task-195' coro=<HAMMemoryManager._delete_old_experiences() done, defined at /app/src/core_ai/memory/ham_memory_manager.py:474> exception=ModuleNotFoundError("No module named 'psutil'")>
Traceback (most recent call last):
  File "/app/src/core_ai/memory/ham_memory_manager.py", line 478, in _delete_old_experiences
    import psutil
ModuleNotFoundError: No module named 'psutil'
ERROR    asyncio:base_events.py:1833 Task exception was never retrieved
future: <Task finished name='Task-196' coro=<HAMMemoryManager._delete_old_experiences() done, defined at /app/src/core_ai/memory/ham_memory_manager.py:474> exception=ModuleNotFoundError("No module named 'psutil'")>
Traceback (most recent call last):
  File "/app/src/core_ai/memory/ham_memory_manager.py", line 478, in _delete_old_experiences
    import psutil
ModuleNotFoundError: No module named 'psutil'
ERROR    asyncio:base_events.py:1833 Task exception was never retrieved
future: <Task finished name='Task-197' coro=<HAMMemoryManager._delete_old_experiences() done, defined at /app/src/core_ai/memory/ham_memory_manager.py:474> exception=ModuleNotFoundError("No module named 'psutil'")>
Traceback (most recent call last):
  File "/app/src/core_ai/memory/ham_memory_manager.py", line 478, in _delete_old_experiences
    import psutil
ModuleNotFoundError: No module named 'psutil'
ERROR    asyncio:base_events.py:1833 Task exception was never retrieved
future: <Task finished name='Task-198' coro=<HAMMemoryManager._delete_old_experiences() done, defined at /app/src/core_ai/memory/ham_memory_manager.py:474> exception=ModuleNotFoundError("No module named 'psutil'")>
Traceback (most recent call last):
  File "/app/src/core_ai/memory/ham_memory_manager.py", line 478, in _delete_old_experiences
    import psutil
ModuleNotFoundError: No module named 'psutil'
__________________________ test_21_concurrent_access ___________________________

ham_manager_fixture = (<src.core_ai.memory.ham_memory_manager.HAMMemoryManager object at 0x7f7e318ec4a0>, <src.core_ai.memory.ham_memory_man...ject at 0x7f7e319186e0>, <MagicMock spec='ResourceAwarenessService' id='140179974059312'>, 'test_ham_core_memory.json')

    @pytest.mark.timeout(10)  # 10秒超時，因為這個測試涉及並發操作
    @pytest.mark.asyncio
    async def test_21_concurrent_access(ham_manager_fixture):
        """測試並發訪問記憶管理器"""
        ham_manager_no_res, _, _, _ = ham_manager_fixture
        print("\nRunning test_21_concurrent_access...")

        async def store_memory(i):
            memory_id = ham_manager_no_res.store_experience(
                f"Concurrent test {i}",
                "concurrent_test",
                {"index": i, "timestamp": datetime.now(timezone.utc).isoformat()}
            )
            return memory_id, i

        # 並發存儲多個記憶
        tasks = [store_memory(i) for i in range(10)]
        results = await asyncio.gather(*tasks)

        # 驗證所有記憶都已正確存儲
        for mem_id, i in results:
            result = ham_manager_no_res.recall_gist(mem_id)
            assert result is not None, f"Memory {i} was not stored correctly"
>           assert f"Concurrent test {i}" in str(result.rehydrated_gist), f"Incorrect content for memory {i}"
                                                 ^^^^^^^^^^^^^^^^^^^^^^
E           AttributeError: 'dict' object has no attribute 'rehydrated_gist'

tests/core_ai/memory/test_ham_memory_manager.py:529: AttributeError
------------------------------ Captured log setup ------------------------------
ERROR    asyncio:base_events.py:1833 Task exception was never retrieved
future: <Task finished name='Task-205' coro=<HAMMemoryManager._delete_old_experiences() done, defined at /app/src/core_ai/memory/ham_memory_manager.py:474> exception=ModuleNotFoundError("No module named 'psutil'")>
Traceback (most recent call last):
  File "/app/src/core_ai/memory/ham_memory_manager.py", line 478, in _delete_old_experiences
    import psutil
ModuleNotFoundError: No module named 'psutil'
ERROR    asyncio:base_events.py:1833 Task exception was never retrieved
future: <Task finished name='Task-206' coro=<HAMMemoryManager._delete_old_experiences() done, defined at /app/src/core_ai/memory/ham_memory_manager.py:474> exception=ModuleNotFoundError("No module named 'psutil'")>
Traceback (most recent call last):
  File "/app/src/core_ai/memory/ham_memory_manager.py", line 478, in _delete_old_experiences
    import psutil
ModuleNotFoundError: No module named 'psutil'
ERROR    asyncio:base_events.py:1833 Task exception was never retrieved
future: <Task finished name='Task-207' coro=<HAMMemoryManager._delete_old_experiences() done, defined at /app/src/core_ai/memory/ham_memory_manager.py:474> exception=ModuleNotFoundError("No module named 'psutil'")>
Traceback (most recent call last):
  File "/app/src/core_ai/memory/ham_memory_manager.py", line 478, in _delete_old_experiences
    import psutil
ModuleNotFoundError: No module named 'psutil'
ERROR    asyncio:base_events.py:1833 Task exception was never retrieved
future: <Task finished name='Task-208' coro=<HAMMemoryManager._delete_old_experiences() done, defined at /app/src/core_ai/memory/ham_memory_manager.py:474> exception=ModuleNotFoundError("No module named 'psutil'")>
Traceback (most recent call last):
  File "/app/src/core_ai/memory/ham_memory_manager.py", line 478, in _delete_old_experiences
    import psutil
ModuleNotFoundError: No module named 'psutil'
=========================== short test summary info ============================
FAILED tests/core_ai/memory/test_ham_memory_manager.py::test_18_encryption_failure
FAILED tests/core_ai/memory/test_ham_memory_manager.py::test_19_disk_full_handling
FAILED tests/core_ai/memory/test_ham_memory_manager.py::test_20_delete_old_experiences
FAILED tests/core_ai/memory/test_ham_memory_manager.py::test_21_concurrent_access
========================= 4 failed, 17 passed in 0.38s =========================
