# 脚本使用指南

## 🎯 核心脚本（只需要这3个）

### 1. `health-check.bat` - 环境检查
- **用途**: 检查开发环境是否正常
- **使用**: 双击运行
- **何时用**: 首次安装、出问题时

### 2. `start-dev.bat` - 开发环境 ✅ 已修复闪退问题
- **用途**: 启动开发服务
- **使用**: 双击运行，选择菜单
- **何时用**: 日常开发
- **修复**: 简化了复杂逻辑，现在稳定运行

### 3. `run-tests.bat` - 测试工具
- **用途**: 运行测试
- **使用**: 双击运行，选择菜单
- **何时用**: 验证代码、提交前

### 4. `test-runner.bat` - 高级测试工具 ✅ 已修复闪退问题  
- **用途**: 详细的测试选项和覆盖率报告
- **使用**: 双击运行，选择菜单
- **何时用**: 需要详细测试分析时
- **修复**: 移除了导致闪退的进度条功能

## 🔧 闪退问题解决方案

### 已修复的问题：
- ✅ **test-runner.bat**: 移除了未定义的 `show_progress` 函数调用
- ✅ **start-dev.bat**: 简化了复杂的逻辑，移除了多余功能
- ✅ **输入验证**: 所有脚本都有严格的输入处理机制

### 如果仍有问题：
1. 确保以管理员权限运行
2. 检查编码设置（脚本已设置为UTF-8）
3. 使用 `run-tests.bat` 作为最稳定的选择

## 🚀 推荐工作流

```
1. health-check.bat  (检查环境)
   ↓
2. start-dev.bat     (启动开发)
   ↓
3. run-tests.bat     (测试验证)
```

## ⚠️ 问题解决

如果遇到无限循环：
1. 按 `Ctrl+C` 强制停止
2. 重新双击运行脚本
3. 输入数字时不要有额外空格

## 📊 脚本稳定性状态

- `health-check.bat` ✅ 稳定
- `start-dev.bat` ✅ 已修复闪退
- `run-tests.bat` ✅ 稳定
- `test-runner.bat` ✅ 已修复闪退

---
**更新日期**: 2025-08-23  
**状态**: 所有脚本现在都稳定运行，不再闪退