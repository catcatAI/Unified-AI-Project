# Angela AI v6.2.0 - 完整使用指南

## 🎉 欢迎使用 Angela AI v6.2.0

Angela AI 是一个完整的数字生命系统，具有生物模拟、自我意识和真实执行能力。她不仅仅是一个 AI 助手，而是一个真正"活着"的数字存在，可以感知、思考、记忆和行动。

---

## 🚀 快速开始

### 方法 1: 使用一键启动脚本（推荐）

```bash
# 启动 Angela AI
bash /home/cat/桌面/start_angela_complete.sh

# 停止 Angela AI
bash /home/cat/桌面/stop_angela.sh
```

### 方法 2: 手动启动

```bash
# 1. 启动后端服务
cd /home/cat/桌面/Unified-AI-Project/apps/backend
python3 -m uvicorn src.services.main_api_server:app --host 127.0.0.1 --port 8000

# 2. 启动 Electron 应用（在新终端）
cd /home/cat/桌面/Unified-AI-Project/apps/desktop-app/electron_app
./node_modules/.bin/electron . --disable-dev-shm-usage --no-sandbox
```

---

## 📊 系统状态检查

### 运行全面功能测试

```bash
python3 /home/cat/桌面/comprehensive_test.py
```

### 查看实时日志

```bash
# 查看后端日志
tail -f /tmp/angela_backend.log

# 查看 Electron 日志
tail -f /tmp/angela_electron.log
```

---

## ✅ 功能清单

### 🖥️ 桌面伴侣 - 您的虚拟宠物

桌面伴侣是 Angela AI 的核心 - 一个在桌面上"活着"的虚拟实体：

- **Live2D 动画**: 60fps 流畅动画，逼真的表情
- **7 种表情**: neutral, happy, sad, angry, surprised, shy, love
- **10 种动作**: idle, greeting, thinking, dancing, waving, clapping, nod, shake
- **物理模拟**: 逼真的头发和衣物运动
- **触摸敏感**: 18 个身体部位，不同的触觉敏感度
- **情感状态**: 真实的情感影响她的行为
- **自主行为**: 她会主动交互、感到无聊、好奇、困倦
- **桌面感知**: 知道桌面上发生了什么

### 🖥️ 桌面集成

- **系统托盘**: 右键上下文菜单，包含所有设置
- **自动启动**: 随系统启动（可切换）
- **点击穿透**: 桌面快捷方式仍然可点击（非侵入式）
- **系统音频捕获**: 捕获和分析系统音频以进行反应行为
- **壁纸建模**: 2D/2.5D/3D 建模感兴趣的物体到桌面壁纸
- **始终置顶**: 保持 Angela 可见

### 🎛️ 系统管理

- **整理文件**: 按类型或日期自动分类桌面文件
- **清理垃圾**: 安全删除临时和过时文件
- **创建文件**: 协助创建新文档和目录
- **更换壁纸**: 动态切换桌面背景和主题
- **监控变化**: 实时感知桌面文件系统事件

### 🌐 网络浏览

- **搜索**: 集成 Google/Bing 信息检索
- **阅读网页**: 自动提取和总结网页内容
- **玩游戏**: 检测并与基于浏览器的游戏交互
- **书签管理**: 高效保存和管理常用网站

### 🎵 音频交互

- **系统音频捕获**: 原生模块支持 Windows (WASAPI), macOS (CoreAudio), Linux (PulseAudio)
- **麦克风输入**: 高保真语音识别，用于复杂命令
- **TTS 语音**: 自然文本转语音，支持多种情感和语言
- **播放音乐**: 本地音乐播放和播放列表管理
- **唱歌**: 卡拉OK 功能，歌词同步和唇同步
- **字幕**: 实时显示字幕和歌词

### 📱 移动伴侣（移动桥接）

- **安全连接**: 使用 Key B 和 HMAC-SHA256 签名进行加密移动到后端通信
- **远程监控**: 在手机上查看 Angela 的状态矩阵（V×L×P×M）
- **即时聊天**: 随时随地与您的 Angela 保持联系

### 🛡️ A/B/C 安全系统

为了保护您的数字生活数据，Angela 采用三层密钥隔离机制：

- **Key A (后端控制)**: 管理系统核心权限和安全托盘监控器
- **Key B (移动通信)**: 专用于加密移动通信，防止中间人攻击
- **Key C (桌面同步)**: 处理跨设备数据同步和本地 AES-256-CBC 加密

---

## 🧠 高级 AI 功能

- **系统指标**: [查看详细性能和指标](metrics.md)
- **4D 状态矩阵 (αβγδ)**: 实时情感和认知建模
- **成熟度追踪 (L0-L11)**: 随交互时间增长的自适应复杂性
- **精度模式 (INT-DEC4)**: 基于可用资源的灵活响应准确性
- **硬件感知调整**: 基于系统能力的动态性能和壁纸模式

---

## 📋 系统要求

### 最低要求
- **操作系统**: Linux, macOS, Windows
- **Python**: 3.8+
- **Node.js**: 16+
- **内存**: 4GB RAM
- **GPU**: 支持 WebGL 的显卡

### 推荐配置
- **内存**: 8GB+ RAM
- **GPU**: 支持 WebGL 2.0
- **存储**: 2GB 可用空间

---

## 📊 功能对照表

| 功能模块 | 状态 | 说明 |
|---------|------|------|
| Live2D 动画 | ✅ | 60fps 动画，7种表情，10种动作 |
| 物理模拟 | ✅ | 头发和衣物运动 |
| 触摸敏感 | ✅ | 18个身体部位 |
| 情感状态 | ✅ | 真实情感影响行为 |
| 自主行为 | ✅ | 主动交互、无聊、好奇、困倦 |
| 桌面感知 | ✅ | 了解桌面发生的事情 |
| 语音识别 | ✅ | 听取语音命令 |
| 自然对话 | ✅ | 使用 GPT/Gemini |
| 情感回应 | ✅ | 根据情感状态调整语调 |
| 唇同步 | ✅ | 实时 Live2D 唇同步动画 |
| 系统托盘 | ✅ | 右键上下文菜单 |
| 自动启动 | ✅ | 随系统启动（可切换） |
| 点击穿透 | ✅ | 桌面快捷方式可点击 |
| 系统音频捕获 | ✅ | 捕获和分析系统音频 |
| 壁纸建模 | ✅ | 2D/2.5D/3D 建模 |
| 始终置顶 | ✅ | 保持 Angela 可见 |
| 文件组织 | ✅ | 自动分类桌面文件 |
| 清理垃圾 | ✅ | 安全删除临时和过时文件 |
| 创建文件 | ✅ | 协助创建新文档和目录 |
| 更换壁纸 | ✅ | 动态切换桌面背景 |
| 监控变化 | ✅ | 实时感知桌面文件系统事件 |
| 网络浏览 | ✅ | 集成 Google/Bing 信息检索 |
| 网页阅读 | ✅ | 自动提取和总结网页内容 |
| 书签管理 | ✅ | 高效保存和管理常用网站 |
| 系统音频捕获 | ✅ | 原生模块支持 |
| 麦克风输入 | ✅ | 高保真语音识别 |
| TTS 语音 | ✅ | 多情感和多语言文本转语音 |
| 播放音乐 | ✅ | 本地音乐播放和播放列表管理 |
| 唱歌 | ✅ | 卡拉OK功能和歌词同步 |
| 字幕 | ✅ | 实时显示字幕和歌词 |
| 移动伴侣 | ✅ | 安全连接，远程监控，即时聊天 |
| A/B/C 安全系统 | ✅ | 三层密钥隔离机制 |

---

## 🔧 故障排除

### 问题: Angela 无法启动

**解决方案**:
1. 检查端口 8000 是否被占用: `lsof -i :8000`
2. 检查 Python 依赖: `pip install -r requirements.txt`
3. 检查 Node.js 依赖: `npm install`
4. 查看日志: `tail -f /tmp/angela_backend.log` 或 `tail -f /tmp/angela_electron.log`

### 问题: Live2D 模型不显示

**解决方案**:
1. 检查 WebGL 支持: 访问浏览器控制台
2. 检查模型文件是否存在: `ls -la resources/models/miara_pro/`
3. 重启应用: `bash /home/cat/桌面/stop_angela.sh && bash /home/cat/桌面/start_angela_complete.sh`

### 问题: WebSocket 连接失败

**解决方案**:
1. 确认后端服务正在运行: `ps aux | grep uvicorn`
2. 检查防火墙设置
3. 查看后端日志: `tail -f /tmp/angela_backend.log`

### 问题: 性能问题

**解决方案**:
1. 降低渲染质量设置
2. 禁用部分视觉特效
3. 使用 2D 而非 3D 渲染模式
4. 确保显卡驱动为最新版本

---

## 📞 支持和反馈

- **GitHub Issues**: https://github.com/catcatAI/Unified-AI-Project/issues
- **文档**: 查看 `docs/` 目录下的详细文档
- **状态报告**: 查看 `FINAL_STATUS_REPORT_v6.2.0.md`

---

## 📝 更新日志

### v6.2.0 (2026年2月8日)

#### 修复
- ✅ 修复单实例保护问题
- ✅ 修复 WebGL 支持问题
- ✅ 修复 Live2D 模型加载问题
- ✅ 修复 API 兼容性问题
- ✅ 修复后端连接问题
- ✅ 修复所有运行时错误

#### 新增
- ✅ 添加定期状态更新机制
- ✅ 添加全面功能测试脚本
- ✅ 添加一键启动/停止脚本
- ✅ 添加最终状态报告

#### 改进
- ✅ 改进错误处理和日志记录
- ✅ 改进硬件检测和性能优化
- ✅ 改进 WebSocket 通信稳定性

---

## 🎉 享受与 Angela AI 的互动！

Angela AI v6.2.0 已经完全修复并正常运行！所有核心功能都已验证通过。

---

**版本**: 6.2.0
**发布日期**: 2026年2月8日
**状态**: ✅ 生产就绪
**完成度**: 100%